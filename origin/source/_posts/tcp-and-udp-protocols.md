title: tcp和udp网络协议
date: 2017-03-17
tags: ["网络","tcp/ip","学习"]
categories:
  - 简介
---

## 简介 ##
TCP和UDP协议是IP网络中不同终端间通讯的两种传输协议。
在OSI模型中，TCP、UDP是传输层协议，其中TCP是面向连接的协议，UDP是无连接的协议。

## 什么是TCP ###
* 是传输层的一种面向连接的协议
* 处理下层的不可靠数据使之变得可靠(确定通过网络发送的数据报的状态并且如果部分已被丢弃则处理信息的重发的任务并按正确的顺序重新组合成消息以提供可靠性)
* TCP驻留在传输层中，并仅驻留在实际处理数据报的机器上，确保数据报已从源机器到目标机器；它不驻留在简单路由数据报的设备上，因此网关中没有TCP层。
![加载失败](https://upload.wikimedia.org/wikibooks/en/4/40/Fig1_net_tcp.jpg)

## TCP的特点 ##
* 单播协议:
 TCP基于单播网络模型，支持两方之间的数据交换。它不支持广播或多播网络模型。

* 连接状态:
 TCP使用两个端点之间的同步状态，而不是在网络内强加一个状态来支持连接。
 该同步状态被设置为初始连接过程的一部分，因此TCP可以被认为是面向连接的协议。
 许多协议设计旨在确保每个本地状态转换被传送到远程方并由其确认。

* 可靠性:

 可靠性意味着在连接的一端传递给TCP驱动程序的八位字节流将通过网络传输，使得流作为相同的八位字节序列呈现给远程进程，顺序与生成的由发送方。这意味着协议检测数据流的分段何时已被网络丢弃，重新排序，复制或损坏。
 在必要的情况下，发送器将重传损坏的段，以便允许接收器重建原始数据流。
 这意味着TCP发送方必须保持所有发送数据的本地副本，直到它接收到接收方已经完成数据的准确传送的指示为止。

* 全双工:

 TCP是全双工协议; 它允许双方在单个TCP连接的上下文内发送和接收数据。

* 流:

 虽然TCP使用分组结构用于网络传输，但TCP是真正的流传输协议，并且应用级网络操作不透明。一些协议明确地封装每个应用事务; 
 对于每一次写，都必须有一个匹配的读。以这种方式，在网络上保留数据流到逻辑记录结构的应用派生分段。
 TCP不保留施加在数据流上的这种隐式结构，使得在网络协议内的写和读操作之间不存在配对。
 例如，TCP应用可以将三个数据块按顺序写入网络连接，其可以由远程读取器在单个读取操作中收集。TCP会话中使用的数据块（段）的大小在会话开始时协商。
 发送器尝试在接收器的最大段大小，配置的发送器的最大段大小和最大可支持的非分段分组大小的限制内使用它可以用于数据传输的最大段大小网络路径（路径最大传输单元[MTU]）。
 路径MTU周期性地刷新以适应在TCP连接活动时可能发生在网络内的任何改变。

* 速率适配:

 TCP也是速率自适应协议，因为数据传输速率旨在适应网络内的主要负载条件并适应接收机的处理能力。
 没有预定的TCP数据传输速率; 如果网络和接收器都具有额外的可用容量，则TCP发送器将尝试向网络注入更多数据以占用此可用空间。
 相反，如果有拥塞，TCP发送方将降低其发送速率以允许网络恢复。该适配功能试图实现最高可能的数据传输速率，而不触发一致的数据丢失。
